<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Comercial Celeiro – Pedidos CEASA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="./site/style.css">
  <meta name="theme-color" content="#ffffff">
  <meta name="color-scheme" content="light">
</head>
<body>
  <header class="header">
    <div class="container">
      <div class="brand">
        <span class="dot" aria-hidden="true"></span>
        <h1>Comercial <span class="celeiro">Celeiro</span></h1>
      </div>
      <div class="header-actions">
        <input id="searchInput" type="text" placeholder="Buscar produto..." />
        <select id="categoryFilter" title="Filtrar categoria">
          <option value="todas">Todas</option>
          <option value="Frutas">Frutas</option>
          <option value="Legumes">Legumes</option>
          <option value="Verduras">Verduras</option>
          <option value="Temperos">Temperos</option>
        </select>
        <button id="openCartBtn" class="btn pill">
          <span class="dot"></span>
          <i class="fas fa-shopping-cart"></i> <span id="cartCount">0</span>
        </button>
      </div>
    </div>
  </header>

  <!-- hero / boas-vindas + cadastro -->
  <section class="hero">
    <div class="container small">
      <div class="hero-card">
        <div class="hero-text">
          <h2>Bem-vindo à <strong>Comercial Celeiro</strong></h2>
          <p>Preencha seus dados, escolha as variações dos produtos e envie seu pedido. Nós cotamos e retornamos com os valores para você aprovar no WhatsApp.</p>
          <ul class="hero-points">
            <li><i class="fas fa-seedling"></i> Atacado CEASA • Barbacena/MG</li>
            <li><i class="fas fa-road"></i> BR 040 • KM 698 • CEASA</li>
            <li><i class="fas fa-phone"></i> (32) 3331-9687 • 9983-1534 • 9983-2505</li>
          </ul>
        </div>
        <img class="hero-photo" src="site/assets/fachada.jpg" alt="Comercial Celeiro">
      </div>

      <form id="clientDataForm" class="client-form" novalidate>
        <div class="row">
          <div class="col">
            <label>Nome completo*</label>
            <input id="clientFullName" type="text" required>
          </div>
          <div class="col">
            <label>CPF ou CNPJ*</label>
            <input id="clientDoc" type="text" inputmode="numeric" required placeholder="somente números">
          </div>
        </div>
        <div class="buyer-info" id="deliveryForm">
        <small class="hint" style="margin-bottom:6px;display:block">
          Este é o <strong>endereço de ENTREGA</strong> (pode ser diferente do endereço da empresa).
        </small>
        <div class="row">
          <div class="col">
            <label>Bairro*</label>
            <input id="addrNeighborhood" type="text" required>
          </div>
          <div class="col">
            <label>Rua / Avenida*</label>
            <input id="addrStreet" type="text" required>
          </div>
          <div class="col col-sm">
            <label>Número*</label>
            <input id="addrNumber" type="text" inputmode="numeric" required>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <label>Nome de quem irá receber*</label>
            <input id="receiverName" type="text" required>
          </div>
          <div class="col col-sm">
            <label><input id="preferTimeChk" type="checkbox"> Tenho preferência por horário</label>
            <input id="preferTimeInput" type="time" style="display:none;">
          </div>
        </div>
        <label for="buyerNotes">Observações</label>
        <textarea id="buyerNotes" rows="4" placeholder="Ex: Deixar na portaria, trocar alface por rúcula..." style="width:100%;resize:vertical"></textarea>
      </form>
    </div>
  </section>

  <main class="container">
    <p class="hint"><i class="fas fa-info-circle"></i> Toque em um item para escolher a <strong>variação</strong> (tamanho, embalagem, etc.).</p>
    <section id="catalog" class="grid"></section>
  </main>

  <!-- Drawer do carrinho -->
  <div id="cartDrawer" class="drawer" aria-hidden="true">
    <div class="drawer-content">
      <div class="drawer-header">
        <h2><i class="fas fa-shopping-basket"></i> Carrinho</h2>
        <button id="closeCartBtn" class="icon-btn" aria-label="Fechar">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <div class="client-badge" id="clientBadge">Pedido para orçamento • valores serão enviados pelo WhatsApp</div>
      <div id="cartItems" class="cart-items"></div>

      <div class="cart-footer">
        <div class="totals" id="totalsBox" style="display:none;">
          <div><strong>Itens:</strong> <span id="totalQty">0</span></div>
          <div><strong>Total:</strong> R$ <span id="totalPrice">0,00</span></div>
        </div>

        <button id="checkoutBtn" class="btn primary">
          <i class="fab fa-whatsapp"></i> Enviar pedido para análise
        </button>
        <small class="hint">Os preços serão calculados e enviados para sua aprovação.</small>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container small">
      <p>CEASA • Barbacena • Minas Gerais</p>
    </div>
  </footer>

  <div id="toast" class="toast"><i class="fas fa-check-circle"></i><span></span></div>

  <!-- Variant Modal -->
  <div id="variantModal" class="modal-backdrop" aria-hidden="true">
    <div class="variant-card">
      <div class="variant-head">
        <h3 id="variantTitle">Produto</h3>
        <button id="variantClose" class="icon-btn"><i class="fas fa-times"></i></button>
      </div>
      <img id="variantImage" alt="" class="variant-img">
      <p id="variantDesc" class="muted"></p>

      <div id="variantOptions" class="variant-options"></div>

      <div class="variant-qty">
        <label>Quantidade</label>
        <input id="variantQty" type="text" inputmode="decimal" value="1">
        <small id="variantUnitHint" class="muted"></small>
      </div>

      <button id="variantAddBtn" class="btn primary"><i class="fas fa-plus"></i> Adicionar ao carrinho</button>
    </div>
  </div>

  <script src="site/product.js"></script>
  <script src="site/app.js"></script>
</body>
</html>
